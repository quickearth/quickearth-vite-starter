define(["exports","./GeometryOffsetAttribute-6fce6185","./Transforms-b2c3e401","./Cartesian2-e9bb1bb3","./ComponentDatatype-b3120730","./when-208fe5b0","./Check-5e798bbf","./GeometryAttribute-dddfbf98","./GeometryAttributes-b0b294d8","./IndexDatatype-4d4b60a0","./Math-56f06cd5"],function(e,V,T,z,I,L,l,R,N,q,B){"use strict";var f=new z.Cartesian3(1,1,1),S=Math.cos,U=Math.sin;function c(e){e=L.defaultValue(e,L.defaultValue.EMPTY_OBJECT);var t=L.defaultValue(e.radii,f),i=L.defaultValue(e.innerRadii,t),r=L.defaultValue(e.minimumClock,0),a=L.defaultValue(e.maximumClock,B.CesiumMath.TWO_PI),o=L.defaultValue(e.minimumCone,0),n=L.defaultValue(e.maximumCone,B.CesiumMath.PI),s=Math.round(L.defaultValue(e.stackPartitions,10)),u=Math.round(L.defaultValue(e.slicePartitions,8)),m=Math.round(L.defaultValue(e.subdivisions,128));if(s<1)throw new l.DeveloperError("options.stackPartitions cannot be less than 1");if(u<0)throw new l.DeveloperError("options.slicePartitions cannot be less than 0");if(m<0)throw new l.DeveloperError("options.subdivisions must be greater than or equal to zero.");if(L.defined(e.offsetAttribute)&&e.offsetAttribute===V.GeometryOffsetAttribute.TOP)throw new l.DeveloperError("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._radii=z.Cartesian3.clone(t),this._innerRadii=z.Cartesian3.clone(i),this._minimumClock=r,this._maximumClock=a,this._minimumCone=o,this._maximumCone=n,this._stackPartitions=s,this._slicePartitions=u,this._subdivisions=m,this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipsoidOutlineGeometry"}c.packedLength=2*z.Cartesian3.packedLength+8,c.pack=function(e,t,i){if(!L.defined(e))throw new l.DeveloperError("value is required");if(!L.defined(t))throw new l.DeveloperError("array is required");return i=L.defaultValue(i,0),z.Cartesian3.pack(e._radii,t,i),i+=z.Cartesian3.packedLength,z.Cartesian3.pack(e._innerRadii,t,i),i+=z.Cartesian3.packedLength,t[i++]=e._minimumClock,t[i++]=e._maximumClock,t[i++]=e._minimumCone,t[i++]=e._maximumCone,t[i++]=e._stackPartitions,t[i++]=e._slicePartitions,t[i++]=e._subdivisions,t[i]=L.defaultValue(e._offsetAttribute,-1),t};var C=new z.Cartesian3,p=new z.Cartesian3,b={radii:C,innerRadii:p,minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0,offsetAttribute:void 0};c.unpack=function(e,t,i){if(!L.defined(e))throw new l.DeveloperError("array is required");t=L.defaultValue(t,0);var r=z.Cartesian3.unpack(e,t,C);t+=z.Cartesian3.packedLength;var a=z.Cartesian3.unpack(e,t,p);t+=z.Cartesian3.packedLength;var o=e[t++],n=e[t++],s=e[t++],u=e[t++],m=e[t++],f=e[t++],d=e[t++],t=e[t];return L.defined(i)?(i._radii=z.Cartesian3.clone(r,i._radii),i._innerRadii=z.Cartesian3.clone(a,i._innerRadii),i._minimumClock=o,i._maximumClock=n,i._minimumCone=s,i._maximumCone=u,i._stackPartitions=m,i._slicePartitions=f,i._subdivisions=d,i._offsetAttribute=-1===t?void 0:t,i):(b.minimumClock=o,b.maximumClock=n,b.minimumCone=s,b.maximumCone=u,b.stackPartitions=m,b.slicePartitions=f,b.subdivisions=d,b.offsetAttribute=-1===t?void 0:t,new c(b))},c.createGeometry=function(e){var t=e._radii;if(!(t.x<=0||t.y<=0||t.z<=0)){var i=e._innerRadii;if(!(i.x<=0||i.y<=0||i.z<=0)){var r=e._minimumClock,a=e._maximumClock,o=e._minimumCone,n=e._maximumCone,s=e._subdivisions,u=z.Ellipsoid.fromCartesian3(t),m=e._slicePartitions+1,f=e._stackPartitions+1;(m=Math.round(m*Math.abs(a-r)/B.CesiumMath.TWO_PI))<2&&(m=2),(f=Math.round(f*Math.abs(n-o)/B.CesiumMath.PI))<2&&(f=2);var d=0,l=1,c=i.x!==t.x||i.y!==t.y||i.z!==t.z,C=!1,p=!1;c&&(l=2,0<o&&(C=!0,d+=m),n<Math.PI&&(p=!0,d+=m));for(var b,h,_=s*l*(f+m),v=new Float64Array(3*_),y=q.IndexDatatype.createTypedArray(_,2*(_+d-(m+f)*l)),k=0,A=new Array(f),w=new Array(f),P=0;P<f;P++)A[P]=U(h=o+P*(n-o)/(f-1)),w[P]=S(h);var x=new Array(s),E=new Array(s);for(P=0;P<s;P++)x[P]=U(b=r+P*(a-r)/(s-1)),E[P]=S(b);for(P=0;P<f;P++)for(M=0;M<s;M++)v[k++]=t.x*A[P]*E[M],v[k++]=t.y*A[P]*x[M],v[k++]=t.z*w[P];if(c)for(P=0;P<f;P++)for(M=0;M<s;M++)v[k++]=i.x*A[P]*E[M],v[k++]=i.y*A[P]*x[M],v[k++]=i.z*w[P];for(A.length=s,w.length=s,P=0;P<s;P++)A[P]=U(h=o+P*(n-o)/(s-1)),w[P]=S(h);for(x.length=m,E.length=m,P=0;P<m;P++)x[P]=U(b=r+P*(a-r)/(m-1)),E[P]=S(b);for(P=0;P<s;P++)for(M=0;M<m;M++)v[k++]=t.x*A[P]*E[M],v[k++]=t.y*A[P]*x[M],v[k++]=t.z*w[P];if(c)for(P=0;P<s;P++)for(M=0;M<m;M++)v[k++]=i.x*A[P]*E[M],v[k++]=i.y*A[P]*x[M],v[k++]=i.z*w[P];for(P=k=0;P<f*l;P++)for(var D=P*s,M=0;M<s-1;M++)y[k++]=D+M,y[k++]=D+M+1;var g=f*s*l;for(P=0;P<m;P++)for(M=0;M<s-1;M++)y[k++]=g+P+M*m,y[k++]=g+P+(M+1)*m;if(c)for(g=f*s*l+m*s,P=0;P<m;P++)for(M=0;M<s-1;M++)y[k++]=g+P+M*m,y[k++]=g+P+(M+1)*m;if(c){var G=f*s*l,O=G+s*m;if(C)for(P=0;P<m;P++)y[k++]=G+P,y[k++]=O+P;if(p)for(G+=s*m-m,O+=s*m-m,P=0;P<m;P++)y[k++]=G+P,y[k++]=O+P}c=new N.GeometryAttributes({position:new R.GeometryAttribute({componentDatatype:I.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:v})});return L.defined(e._offsetAttribute)&&(C=v.length,p=new Uint8Array(C/3),C=e._offsetAttribute===V.GeometryOffsetAttribute.NONE?0:1,V.arrayFill(p,C),c.applyOffset=new R.GeometryAttribute({componentDatatype:I.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:p})),new R.Geometry({attributes:c,indices:y,primitiveType:R.PrimitiveType.LINES,boundingSphere:T.BoundingSphere.fromEllipsoid(u),offsetAttribute:e._offsetAttribute})}}},e.EllipsoidOutlineGeometry=c});
//# sourceMappingURL=EllipsoidOutlineGeometry-91f2c235.js.map
