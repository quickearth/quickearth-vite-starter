define(["exports","./Cartesian2-e9bb1bb3","./Check-5e798bbf","./when-208fe5b0","./Math-56f06cd5"],function(e,r,i,u,c){"use strict";var d={octEncodeInRange:function(e,t,n){i.Check.defined("vector",e),i.Check.defined("result",n);var o=r.Cartesian3.magnitudeSquared(e);if(Math.abs(o-1)>c.CesiumMath.EPSILON6)throw new i.DeveloperError("vector must be normalized.");return n.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),n.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0&&(o=n.x,e=n.y,n.x=(1-Math.abs(e))*c.CesiumMath.signNotZero(o),n.y=(1-Math.abs(o))*c.CesiumMath.signNotZero(e)),n.x=c.CesiumMath.toSNorm(n.x,t),n.y=c.CesiumMath.toSNorm(n.y,t),n},octEncode:function(e,t){return d.octEncodeInRange(e,255,t)}},n=new r.Cartesian2,t=new Uint8Array(1);function o(e){return t[0]=e,t[0]}d.octEncodeToCartesian4=function(e,t){return d.octEncodeInRange(e,65535,n),t.x=o(n.x*(1/256)),t.y=o(n.x),t.z=o(n.y*(1/256)),t.w=o(n.y),t},d.octDecodeInRange=function(e,t,n,o){if(i.Check.defined("result",o),e<0||n<e||t<0||n<t)throw new i.DeveloperError("x and y must be unsigned normalized integers between 0 and "+n);return o.x=c.CesiumMath.fromSNorm(e,n),o.y=c.CesiumMath.fromSNorm(t,n),o.z=1-(Math.abs(o.x)+Math.abs(o.y)),o.z<0&&(n=o.x,o.x=(1-Math.abs(o.y))*c.CesiumMath.signNotZero(n),o.y=(1-Math.abs(n))*c.CesiumMath.signNotZero(o.y)),r.Cartesian3.normalize(o,o)},d.octDecode=function(e,t,n){return d.octDecodeInRange(e,t,255,n)},d.octDecodeFromCartesian4=function(e,t){i.Check.typeOf.object("encoded",e),i.Check.typeOf.object("result",t);var n=e.x,o=e.y,r=e.z,e=e.w;if(n<0||255<n||o<0||255<o||r<0||255<r||e<0||255<e)throw new i.DeveloperError("x, y, z, and w must be unsigned normalized integers between 0 and 255");return d.octDecodeInRange(256*n+o,256*r+e,65535,t)},d.octPackFloat=function(e){return i.Check.defined("encoded",e),256*e.x+e.y};var a=new r.Cartesian2;function f(e){return e>>1^-(1&e)}d.octEncodeFloat=function(e){return d.octEncode(e,a),d.octPackFloat(a)},d.octDecodeFloat=function(e,t){i.Check.defined("value",e);var n=e/256,e=Math.floor(n);return d.octDecode(e,256*(n-e),t)},d.octPack=function(e,t,n,o){i.Check.defined("v1",e),i.Check.defined("v2",t),i.Check.defined("v3",n),i.Check.defined("result",o);e=d.octEncodeFloat(e),t=d.octEncodeFloat(t),n=d.octEncode(n,a);return o.x=65536*n.x+e,o.y=65536*n.y+t,o},d.octUnpack=function(e,t,n,o){i.Check.defined("packed",e),i.Check.defined("v1",t),i.Check.defined("v2",n),i.Check.defined("v3",o);var r=e.x/65536,c=Math.floor(r),a=65536*(r-c),r=e.y/65536,e=Math.floor(r),r=65536*(r-e);d.octDecodeFloat(a,t),d.octDecodeFloat(r,n),d.octDecode(c,e,o)},d.compressTextureCoordinates=function(e){return i.Check.defined("textureCoordinates",e),4096*(4095*e.x|0)+(4095*e.y|0)},d.decompressTextureCoordinates=function(e,t){i.Check.defined("compressed",e),i.Check.defined("result",t);var n=Math.floor(e/4096);return t.x=n/4095,t.y=(e-4096*n)/4095,t},d.zigZagDeltaDecode=function(e,t,n){i.Check.defined("uBuffer",e),i.Check.defined("vBuffer",t),i.Check.typeOf.number.equals("uBuffer.length","vBuffer.length",e.length,t.length),u.defined(n)&&i.Check.typeOf.number.equals("uBuffer.length","heightBuffer.length",e.length,n.length);for(var o=e.length,r=0,c=0,a=0,d=0;d<o;++d)r+=f(e[d]),c+=f(t[d]),e[d]=r,t[d]=c,u.defined(n)&&(a+=f(n[d]),n[d]=a)},e.AttributeCompression=d});
//# sourceMappingURL=AttributeCompression-d1cd1d9c.js.map
